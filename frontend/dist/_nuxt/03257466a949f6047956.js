(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{424:function(t,e,n){"use strict";n.r(e);n(27);var o={data:function(){return{fields:[{key:"name",label:"Department"},"abbreviation","action"],items:[],new:!0,form:{id:null,abbreviation:""}}},methods:{showOModal:function(t,data){this.new=data.new,data.new?(this.form.abbreviation="",this.form.department="",this.form.id=null):(this.form.abbreviation=data.item.abbreviation,this.form.department=data.item.name,this.form.id=data.item.id),this.$refs.departmentModal.show()},handleOk:function(){this.handleSubmit()},handleSubmit:function(){var t=this;(this.new?this.$axios.$post:this.$axios.$put)("accounts/department-settings/",this.form,{headers:this.$store.getters.authHeader}).then((function(e){t.items=e})).catch((function(t){return console.log(t)}))},deleteOffice:function(t,data){var e=this;this.$axios.delete("accounts/department-settings/"+data.item.id+"/",{headers:this.$store.getters.authHeader}).then((function(t){e.items=t.data})).catch((function(t){return console.log(t)}))}},mounted:function(){var t=this;this.$axios.get("accounts/department-settings/",{headers:this.$store.getters.authHeader}).then((function(e){t.items=e.data})).catch((function(t){return console.log(t)}))}},r=n(26),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h4",[t._v("Departments "),n("b-button",{staticClass:"ml-5",attrs:{variant:"info",size:"sm"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.showOModal(e,{new:!0})}}},[t._v("+ Department")])],1),t._v(" "),n("hr"),t._v(" "),n("b-table",{attrs:{striped:"",hover:"",items:t.items,fields:t.fields},scopedSlots:t._u([{key:"cell(action)",fn:function(data){return[n("a",{attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.showOModal(e,{new:!1,item:data.item})}}},[n("font-awesome-icon",{attrs:{icon:"edit"}})],1),t._v(" | \n            "),n("a",{attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteOffice(e,{item:data.item})}}},[n("font-awesome-icon",{attrs:{icon:"times"}})],1)]}}])}),t._v(" "),n("b-modal",{ref:"departmentModal",attrs:{title:"Department",size:"lg",centered:""},on:{ok:t.handleOk}},[n("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[n("b-row",[n("b-col",[n("b-form-group",{attrs:{id:"fieldset-horizontal","label-cols-sm":"3","label-cols-lg":"2","label-size":"sm",description:"Department Name",label:"Dept","label-for":"department","invalid-feedback":"title is required"}},[n("b-form-input",{ref:"department",attrs:{id:"department",size:"sm"},model:{value:t.form.department,callback:function(e){t.$set(t.form,"department",e)},expression:"form.department"}})],1)],1),t._v(" "),n("b-col",[n("b-form-group",{attrs:{id:"fieldset-horizontal","label-cols-sm":"3","label-cols-lg":"2","label-size":"sm",description:"Dept Abbr",label:"Abbr","label-for":"abbreviation","invalid-feedback":"title is required"}},[n("b-form-input",{ref:"abbreviation",attrs:{id:"abbreviation",size:"sm"},model:{value:t.form.abbreviation,callback:function(e){t.$set(t.form,"abbreviation",e)},expression:"form.abbreviation"}})],1)],1)],1),t._v(" "),t._t("default")],2)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);